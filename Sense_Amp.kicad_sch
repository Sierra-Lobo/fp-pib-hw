(kicad_sch (version 20211123) (generator eeschema)

  (uuid 6c155828-2ba9-48f9-949d-9155483c2b3a)

  (paper "A4")

  (lib_symbols
    (symbol "Amplifier_Current:INA240A3PW" (pin_names (offset 0.127)) (in_bom yes) (on_board yes)
      (property "Reference" "U" (id 0) (at 3.81 3.81 0)
        (effects (font (size 1.27 1.27)) (justify left))
      )
      (property "Value" "INA240A3PW" (id 1) (at 3.81 -2.54 0)
        (effects (font (size 1.27 1.27)) (justify left))
      )
      (property "Footprint" "Package_SO:TSSOP-8_4.4x3mm_P0.65mm" (id 2) (at 0 -16.51 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Datasheet" "http://www.ti.com/lit/ds/symlink/ina240.pdf" (id 3) (at 3.81 3.81 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_keywords" "current monitor shunt sensor bidirectional high low" (id 4) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_description" "High- and Low-Side, Bidirectional, Zero-Drift, Current-Sense Amplifier With Enhanced PWM Rejection, 100V/V, TSSOP-8" (id 5) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_fp_filters" "TSSOP*4.4x3mm*P0.65mm*" (id 6) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "INA240A3PW_0_1"
        (polyline
          (pts
            (xy 5.08 0)
            (xy -5.08 5.08)
            (xy -5.08 -5.08)
            (xy 5.08 0)
          )
          (stroke (width 0.254) (type default) (color 0 0 0 0))
          (fill (type background))
        )
      )
      (symbol "INA240A3PW_1_1"
        (pin passive line (at -2.54 -7.62 90) (length 3.81) hide
          (name "GND" (effects (font (size 1.016 1.016))))
          (number "1" (effects (font (size 1.27 1.27))))
        )
        (pin input line (at -7.62 2.54 0) (length 2.54)
          (name "+" (effects (font (size 1.27 1.27))))
          (number "2" (effects (font (size 1.27 1.27))))
        )
        (pin input line (at -7.62 -2.54 0) (length 2.54)
          (name "-" (effects (font (size 1.27 1.27))))
          (number "3" (effects (font (size 1.27 1.27))))
        )
        (pin power_in line (at -2.54 -7.62 90) (length 3.81)
          (name "GND" (effects (font (size 1.016 1.016))))
          (number "4" (effects (font (size 1.27 1.27))))
        )
        (pin power_in line (at -2.54 7.62 270) (length 3.81)
          (name "V+" (effects (font (size 1.016 1.016))))
          (number "5" (effects (font (size 1.27 1.27))))
        )
        (pin passive line (at 0 -7.62 90) (length 5.08)
          (name "REF2" (effects (font (size 0.508 0.508))))
          (number "6" (effects (font (size 1.27 1.27))))
        )
        (pin passive line (at 2.54 -7.62 90) (length 6.35)
          (name "REF1" (effects (font (size 0.508 0.508))))
          (number "7" (effects (font (size 1.27 1.27))))
        )
        (pin output line (at 7.62 0 180) (length 2.54)
          (name "~" (effects (font (size 1.27 1.27))))
          (number "8" (effects (font (size 1.27 1.27))))
        )
      )
    )
    (symbol "Device:C" (pin_numbers hide) (pin_names (offset 0.254)) (in_bom yes) (on_board yes)
      (property "Reference" "C" (id 0) (at 0.635 2.54 0)
        (effects (font (size 1.27 1.27)) (justify left))
      )
      (property "Value" "C" (id 1) (at 0.635 -2.54 0)
        (effects (font (size 1.27 1.27)) (justify left))
      )
      (property "Footprint" "" (id 2) (at 0.9652 -3.81 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Datasheet" "~" (id 3) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_keywords" "cap capacitor" (id 4) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_description" "Unpolarized capacitor" (id 5) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_fp_filters" "C_*" (id 6) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "C_0_1"
        (polyline
          (pts
            (xy -2.032 -0.762)
            (xy 2.032 -0.762)
          )
          (stroke (width 0.508) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (polyline
          (pts
            (xy -2.032 0.762)
            (xy 2.032 0.762)
          )
          (stroke (width 0.508) (type default) (color 0 0 0 0))
          (fill (type none))
        )
      )
      (symbol "C_1_1"
        (pin passive line (at 0 3.81 270) (length 2.794)
          (name "~" (effects (font (size 1.27 1.27))))
          (number "1" (effects (font (size 1.27 1.27))))
        )
        (pin passive line (at 0 -3.81 90) (length 2.794)
          (name "~" (effects (font (size 1.27 1.27))))
          (number "2" (effects (font (size 1.27 1.27))))
        )
      )
    )
    (symbol "power:GND" (power) (pin_names (offset 0)) (in_bom yes) (on_board yes)
      (property "Reference" "#PWR" (id 0) (at 0 -6.35 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Value" "GND" (id 1) (at 0 -3.81 0)
        (effects (font (size 1.27 1.27)))
      )
      (property "Footprint" "" (id 2) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Datasheet" "" (id 3) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_keywords" "power-flag" (id 4) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_description" "Power symbol creates a global label with name \"GND\" , ground" (id 5) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "GND_0_1"
        (polyline
          (pts
            (xy 0 0)
            (xy 0 -1.27)
            (xy 1.27 -1.27)
            (xy 0 -2.54)
            (xy -1.27 -1.27)
            (xy 0 -1.27)
          )
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type none))
        )
      )
      (symbol "GND_1_1"
        (pin power_in line (at 0 0 270) (length 0) hide
          (name "GND" (effects (font (size 1.27 1.27))))
          (number "1" (effects (font (size 1.27 1.27))))
        )
      )
    )
  )

  (junction (at 144.78 66.04) (diameter 0) (color 0 0 0 0)
    (uuid 4bb71d2e-553d-4b15-95b3-47033bcfbbdb)
  )
  (junction (at 121.92 76.2) (diameter 0) (color 0 0 0 0)
    (uuid 5601c413-a6f1-4b47-a62c-86c1ab2546d3)
  )
  (junction (at 144.78 106.68) (diameter 0) (color 0 0 0 0)
    (uuid 716eb0c8-5764-4307-942b-b6ece14180e1)
  )
  (junction (at 130.81 66.04) (diameter 0) (color 0 0 0 0)
    (uuid dc221e40-434e-40a5-bef3-2cfaa2d517de)
  )

  (wire (pts (xy 133.35 100.33) (xy 139.7 100.33))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 18d4b4bc-c51d-4daa-8522-628f3029161f)
  )
  (wire (pts (xy 149.86 105.41) (xy 149.86 106.68))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 1aa289bf-7f21-4a9f-ba38-a93dc5957cc2)
  )
  (wire (pts (xy 144.78 105.41) (xy 144.78 106.68))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 23e43b24-ee9c-44d9-ada1-efe4e08eb414)
  )
  (wire (pts (xy 144.78 66.04) (xy 144.78 90.17))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 48c1f07d-d67b-4ee3-a621-b12a760471f0)
  )
  (wire (pts (xy 121.92 67.31) (xy 121.92 66.04))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 626eb472-7c3b-40b9-a72e-11d639225d27)
  )
  (wire (pts (xy 149.86 106.68) (xy 144.78 106.68))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 8903f69c-40b7-49ba-be2a-4af734569b8a)
  )
  (wire (pts (xy 130.81 66.04) (xy 130.81 67.31))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 8d9480a7-11d8-4395-9358-004e3f7860f8)
  )
  (wire (pts (xy 121.92 66.04) (xy 130.81 66.04))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 913e030d-83c2-4691-9c29-b56ad6e2d1fa)
  )
  (wire (pts (xy 130.81 66.04) (xy 144.78 66.04))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 961bafc9-0776-4fab-8dbe-383f8965f14b)
  )
  (wire (pts (xy 139.7 95.25) (xy 133.35 95.25))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 9d54bba9-62f1-4e57-95a9-12b86d334af7)
  )
  (wire (pts (xy 144.78 106.68) (xy 144.78 109.22))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid a1f3c35f-453a-4feb-a270-2ee47a990905)
  )
  (wire (pts (xy 121.92 74.93) (xy 121.92 76.2))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid a7ff8783-8bf7-491e-9cc3-675e09643463)
  )
  (wire (pts (xy 130.81 76.2) (xy 130.81 74.93))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid ac5f06a9-fc17-403a-908a-fb5cf9d966ab)
  )
  (wire (pts (xy 147.32 60.96) (xy 144.78 60.96))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid d16b6ce3-fc97-4a35-bb0b-22508d74351a)
  )
  (wire (pts (xy 144.78 60.96) (xy 144.78 66.04))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid e4078cc8-f9bb-4f03-bbc3-e6cbfd3a9f93)
  )
  (wire (pts (xy 147.32 105.41) (xy 147.32 107.95))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid ead9ebde-970c-404e-b1fe-a90d7f1fb9d8)
  )
  (wire (pts (xy 121.92 76.2) (xy 130.81 76.2))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid ecf2b4c7-2a87-4493-8e43-240ce637d3c2)
  )
  (wire (pts (xy 147.32 107.95) (xy 158.75 107.95))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid f1b3b2dc-9929-41f6-85b5-beef3b9d7a21)
  )
  (wire (pts (xy 154.94 97.79) (xy 166.37 97.79))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid f4be077d-b336-4707-bf1a-9ab24a299bbe)
  )

  (text "current sense amplifier" (at 135.89 125.73 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid 1a11e2b3-d4ee-4134-ac05-4232393a21ff)
  )
  (text "Verify CM voltage can exceed V+ to 5V" (at 149.86 67.31 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid 2e06363d-b19a-44c9-ba7a-7bffb26d2415)
  )
  (text "bias point set to mid-supply\nas current flows both ways"
    (at 163.83 107.95 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid 3095f10e-fa44-4cf0-98ee-2b3475f37e6b)
  )
  (text "100v/v gain" (at 138.43 120.65 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid 3f2436bc-489d-400e-abd8-f06c4923fe17)
  )

  (hierarchical_label "V+" (shape input) (at 158.75 107.95 0)
    (effects (font (size 1.27 1.27)) (justify left))
    (uuid 1f52caf4-78a4-4faf-9ec7-d67dd9d7b4c3)
  )
  (hierarchical_label "V+" (shape input) (at 147.32 60.96 0)
    (effects (font (size 1.27 1.27)) (justify left))
    (uuid 49532c25-35f7-4b07-8ca5-bc82e701f071)
  )
  (hierarchical_label "Sense_-" (shape input) (at 133.35 100.33 180)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid 96a9aeb2-2fc5-4329-85f3-3c3745558793)
  )
  (hierarchical_label "Sense_Out" (shape input) (at 166.37 97.79 0)
    (effects (font (size 1.27 1.27)) (justify left))
    (uuid c10406b8-9afa-4d22-997a-a5168ab6c90e)
  )
  (hierarchical_label "Sense_+" (shape input) (at 133.35 95.25 180)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid cc8d07b5-c9a1-4d2c-958d-57c04fa68a38)
  )

  (symbol (lib_id "Device:C") (at 121.92 71.12 0) (unit 1)
    (in_bom yes) (on_board yes) (fields_autoplaced)
    (uuid 1defc2e4-5893-4667-af1b-a754eb88bc1c)
    (property "Reference" "C52" (id 0) (at 124.841 70.2115 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Value" "1uF" (id 1) (at 124.841 72.9866 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Footprint" "Capacitor_SMD:C_0603_1608Metric" (id 2) (at 122.8852 74.93 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "~" (id 3) (at 121.92 71.12 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid c196a7d1-ccec-4637-a585-5f53d6add4f8))
    (pin "2" (uuid b6ee74b8-10e2-470c-8b09-1d6bee8547e1))
  )

  (symbol (lib_id "power:GND") (at 144.78 109.22 0) (unit 1)
    (in_bom yes) (on_board yes) (fields_autoplaced)
    (uuid 49a43584-f855-4ce1-bd1c-81109745175f)
    (property "Reference" "#PWR049" (id 0) (at 144.78 115.57 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Value" "GND" (id 1) (at 144.78 113.7825 0))
    (property "Footprint" "" (id 2) (at 144.78 109.22 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "" (id 3) (at 144.78 109.22 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid 71dd26ca-d980-457f-97fd-ea5ff7f33e4c))
  )

  (symbol (lib_id "Device:C") (at 130.81 71.12 0) (unit 1)
    (in_bom yes) (on_board yes) (fields_autoplaced)
    (uuid 8fd8e8c9-a9a1-44ef-9e55-5b6d38b2b25f)
    (property "Reference" "C53" (id 0) (at 133.731 70.2115 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Value" "0.1uF" (id 1) (at 133.731 72.9866 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Footprint" "Capacitor_SMD:C_0603_1608Metric" (id 2) (at 131.7752 74.93 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "~" (id 3) (at 130.81 71.12 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid 4af61e78-dbb9-402f-a4a5-11a59146ff97))
    (pin "2" (uuid bfc56434-f016-4dad-8135-233b90cf7af1))
  )

  (symbol (lib_id "Amplifier_Current:INA240A3PW") (at 147.32 97.79 0) (unit 1)
    (in_bom yes) (on_board yes)
    (uuid afcb0774-809d-4e84-987f-b4923b190442)
    (property "Reference" "U17" (id 0) (at 152.4 91.44 0))
    (property "Value" "INA240A3EDRQ1" (id 1) (at 157.48 93.98 0))
    (property "Footprint" "Package_SO:SOIC-8_3.9x4.9mm_P1.27mm" (id 2) (at 147.32 114.3 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "" (id 3) (at 151.13 93.98 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid 1151c89f-624f-4fc5-86af-8790500da45e))
    (pin "2" (uuid e656fdfa-6978-481e-84c7-ce7ac19becca))
    (pin "3" (uuid 97915fb0-853a-46bb-b3ff-7d22ed6fb788))
    (pin "4" (uuid 3f5cf02f-5a58-4549-952f-e2e8276694ce))
    (pin "5" (uuid 73ac1907-c3ac-4246-a3cb-a030c21da02e))
    (pin "6" (uuid 7b33eaef-5b30-4ee6-a387-b216fde0dc1b))
    (pin "7" (uuid 951e4d37-5dc5-4f5f-aa18-3e990dac377f))
    (pin "8" (uuid 01439fac-8b7d-4481-acee-8d0d183e043f))
  )

  (symbol (lib_id "power:GND") (at 121.92 76.2 0) (unit 1)
    (in_bom yes) (on_board yes) (fields_autoplaced)
    (uuid c64242b5-a87f-41d7-a260-ea8a1cfc7c30)
    (property "Reference" "#PWR048" (id 0) (at 121.92 82.55 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Value" "GND" (id 1) (at 121.92 80.7625 0))
    (property "Footprint" "" (id 2) (at 121.92 76.2 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "" (id 3) (at 121.92 76.2 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid a46f0ad0-a1df-460f-8348-e20f91be4b27))
  )
)
